<html>
<script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>

<body>
  <div id="timeline-app">
    <button v-on:click="markCurrentTime">Mark</button>
    <ol>
      <timeline-item v-for="item in markList" v-bind:todo="item" v-bind:key="item.id"></todo-item>
    </ol>

  </div>

</body>
<script>
  Vue.component('timeline-item', {
    props: ['todo'],
    template: '<li>{{ todo.text }}</li>'
  });

  function markObj(id = 0, sleepTime = true, wakeupTime = false) {
    this.id = id;
    this.hours = new Date().getHours();
    this.minutes = new Date().getMinutes();
    this.seconds = new Date().getSeconds();
    this.wakeupTime = wakeupTime;
    this.sleepTime = sleepTime;
    this.equal = function (x) {
      return (x.hours === this.hours && x.minutes === this.minutes
              && x.seconds === this.seconds);
    }
  };

  var timeLineApp = new Vue({
    el: '#timeline-app',
    data: {
      markList: []
    },

    methods: {
      markCurrentTime: function () {
        var mark = new markObj(id = timeLineApp.markList.length);

        if (timeLineApp.markList.length == 0) {
          mark.wakeupTime = true;
          timeLineApp.markList.push({ text: mark });
          return;
        };

        if (timeLineApp.markList.at(-1).text.equal(mark)) {
          return;
        };

        timeLineApp.markList.at(-1).text.sleepTime = false;
        timeLineApp.markList.push({ text: mark })
      },
    }

  });

</script>

</html>